---
title: "Monitoring Metrics"
sidebar_label: "Monitoring Metrics"
slug: /MonitoringMetrics
hide_title: false
hide_table_of_contents: true
sidebar_position: 10
description: ""
---

import React from 'react';

import CodeBlock from '@theme/CodeBlock';
import Dashboard from '!!raw-loader!/txt/NodeView.sh';

export function HTMLContent() {
  
  return (
    <div>

      {/* INSERT HTML HERE */}

      <p>Cardano Node trace objects, which add log entries, may also produce metrics for monitoring node status. By default, Cardano Node enables a proprietary endpoint named EKG, as well as a <a href="https://prometheus.io/" target="_blank">Prometheus</a> endpoint. You can display or query metrics using a Web browser, terminal window or Bash script for example.</p>
        
      <h1>Displaying Metrics Using a Web Browser</h1>

      <p class="pi">To display current metrics for the instance of Cardano Node running on the local computer using a Web browser:</p>
      
      <ul class="ss">
        <li>To display metrics using the EKG endpoint, visit <code>http://localhost:12788/</code> To display values, you may need to scroll right.
          <center><strong>OR</strong></center>
          To display metrics using the Prometheus endpoint, visit <code>http://localhost:12798/</code>
        </li>
      </ul>

      <table class="box">
        <tbody>
          <tr>
            <td class="boxLabel"><p class="boxLabel">Challenge<br /><img src="img/BoxChallenge.png" alt="Challenge" /></p></td>
            <td class="boxText"><p class="boxText">Using the following options in the <code>$&#123;NODE_HOME&#125;/config.json</code> or <code>$&#123;NODE_HOME&#125;/config-bp.json</code> file, you can set the IP address and port where the EKG and Prometheus endpoints listen. For options that you modify in the configuration file to take effect, you need to restart Cardano Node:<pre>
              "hasEKG": [<br />
              &nbsp;&nbsp;"127.0.0.1",<br />
              &nbsp;&nbsp;12788<br />
              ],<br />
              "hasPrometheus": [<br />
              &nbsp;&nbsp;"127.0.0.1",<br />
              &nbsp;&nbsp;12798<br />
              ]
            </pre></p></td>
          </tr>
        </tbody>
      </table>

      <h1>Useful Metrics</h1>

      <p>As a starting point to monitor an instance of Cardano Node, you may find the following EKG metrics most useful:</p>

      <ul>
        <li><b>cardano.node.metrics.epoch.int</b>—The epoch number of the tip of the local copy of the Cardano blockchain ledger. In the Cardano ecosystem, each epoch is five days in duration.</li>
        <li><b>cardano.node.metrics.slotInEpoch.int</b>—The slot number of the tip of the local copy of the Cardano blockchain ledger since the beginning of the tip epoch. A slot occurs every second. Therefore, each epoch is comprised of 432,000 slots.</li>
        {/* <!-- <li><b>cardano.node.metrics.slotNum.int</b>—The slot number of the tip of the local copy of the Cardano blockchain since the start of the ledger</li> --> */}
        <li><b>cardano.node.metrics.blockNum.int</b>—The number of the most recent block produced since the start of the ledger, also referred to as the block height. Generally, the Cardano protocol produces a block approximately every 20 seconds.</li>
        <li><b>cardano.node.metrics.connectionManager.incomingConns</b>—The total number of remote Cardano Node instances—network peers—populating the network using blocks from the local copy of the blockchain ledger</li>
        <li><b>cardano.node.metrics.connectionManager.outgoingConns</b>—The total number of network peers that the local Cardano Node instance is using to populate the local copy of the blockchain ledger </li>
        <li><b>cardano.node.metrics.served.block.count.int</b>—The number of blocks fetched from the local copy of the blockchain ledger by incoming peers</li>
        <li><b>cardano.node.metrics.blockfetchclient.blockdelay.cdfOne</b>—The percentage of blocks that the Cardano Node instance currently propagates within one second of production</li>
        <li><b>cardano.node.metrics.blockfetchclient.blockdelay.cdfThree</b>—The percentage of blocks that the Cardano Node instance currently propagates within three seconds of production
          <table class="box">
            <tbody>
              <tr>
                <td class="boxLabel"><p class="boxLabel">Important<br /><img src="img/BoxImportant.png" alt="Important" /></p></td>
                <td class="boxText"><p class="boxText">A healthy node propagates more than 95 percent of blocks within three seconds of production. To troubleshoot issues related to block progagation, examine network speed and your stake pool <a href="/ConfiguringTopology">topology</a>.</p></td>
              </tr>
            </tbody>
          </table>
        </li>
        <li><b>cardano.node.metrics.blockfetchclient.blockdelay.cdfFive</b>—The percentage of blocks that the Cardano Node instance currently propagates within five seconds of production</li>
        <li><b>cardano.node.metrics.RTS.gcHeapBytes.int</b>—In bytes, the amount of memory currently allocated to the Cardano Node instance</li>
        <li><b>cardano.node.metrics.RTS.gcLiveBytes.int</b>—In bytes, the amount of data in memory currently potentially usable by the Cardano Node instance</li>
        <li><b>cardano.node.metrics.forging_enabled</b>—An integer Boolean value (<code>0</code> or <code>1</code>) indicating whether the Cardano Node instance is operating as a block producer or relay</li>
        <li><b>cardano.node.metrics.Forge.node-is-leader.int</b>—The number of blocks that the Cardano Node instance prepared</li>
        <li><b>cardano.node.metrics.Forge.adopted.int</b>—The number of blocks prepared by the Cardano Node instance that the network accepted</li>
        <li><b>cardano.node.metrics.Forge.didnt-adopt.int</b>—The number of blocks that the Cardano Node instance failed to prepare due to an error occurring within the software application</li>
      </ul>

      <p>To convert the name of an EKG metric to the corresponding Prometheus metric, replace period (<code>.</code>) characters with underscore (<code>_</code>) characters.</p>

      <table class="box">
        <tbody>
          <tr>
            <td class="boxLabel"><p class="boxLabel">Note<br /><img src="img/BoxNote.png" alt="Note" /></p></td>
            <td class="boxText"><p class="boxText">If a trace is not triggered, then metrics do NOT include the corresponding metric. When the Cardano Node instance restarts, metrics reset.</p></td>
          </tr>
        </tbody>
      </table>

      <h1>Querying Metrics Using a Terminal Window</h1>

      <p>When querying the EKG endpoint using a terminal window, retrieve results using JavaScript Object Notation (JSON) format, and then parse the JSON output using <a href="https://jqlang.org/" target="_blank">jq</a></p>

      <p class="pi">To query current metrics for the local instance of Cardano Node using a terminal window:</p>

      <ul class="ss">
        <li>To query metrics using the EKG endpoint, type <code>curl -s -H 'Accept: application/json' http://localhost:12788/ | jq .</code>
        <center><strong>OR</strong></center>
        To query metrics using the Prometheus endpoint, type <code>curl http://localhost:12798/metrics</code></li>
      </ul>

      <table class="box">
        <tbody>
          <tr>
            <td class="boxLabel"><p class="boxLabel">Note<br /><img src="img/BoxNote.png" alt="Note" /></p></td>
            <td class="boxText"><p class="boxText">If you changed the IP address or port where the EKG or Prometheus endpoints listen, then update the URL in the <code>curl</code> command accordingly.</p></td>
          </tr>
        </tbody>
      </table>

      <h1>Creating a Dashboard</h1>

      <p>The following Bash script shows you how to use metrics to create a dashboard for monitoring Cardano Node instances in your stake pool configuration:</p>
      <CodeBlock>
        {Dashboard}
      </CodeBlock>

      <h1>Wait...</h1>

      <p>Prior to continuing with the <i>How to Set Up a Cardano Stake Pool</i> guide, wait for the local copy of the Cardano blockchain ledger on each computer in your stake pool configuration to synchronize fully with the network.</p>

      <table class="box">
        <tbody>
          <tr>
            <td class="boxLabel"><p class="boxLabel">Important<br /><img src="img/BoxImportant.png" alt="Important" /></p></td>
            <td class="boxText"><p class="boxText">If the local copy of the ledger is not synchronized fully, then some commands may fail. If the local instance of Cardano Node is not running, then the following message may display:<pre>cardano-cli: Network.Socket.connect: : does not exist (No such file or directory)</pre></p></td>
          </tr>
        </tbody>
      </table>

      <p>As of September 2025, the size of the Cardano Mainnet blockchain ledger is approximately 215 GB. Synchronizing local copies of the Cardano blockchain ledger with the network may take more than 24 hours.</p>

      <p>For the current epoch and relative slot number of the Cardano network, see a <a href="https://explorer.cardano.org/" target="_blank">blockchain explorer</a>. When the epoch and slot number of a local copy of the ledger match the current epoch and slot number of the network, then the local Cardano Node instance is synchronized.</p>

      <h1>Additional Resources</h1>

      <p>For some additional third-party dashboards available in the Cardano community, see <a href="/Community">Appendix C: Community Projects</a>.</p>

    </div>
  );
}

<HTMLContent />

