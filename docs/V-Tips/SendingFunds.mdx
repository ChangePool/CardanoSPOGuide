---
title: "Sending Funds"
sidebar_label: "Sending Funds"
slug: /SendingFunds
hide_title: false
hide_table_of_contents: true
sidebar_position: 5
description: ""
---

import React from 'react';

import TestnetNote from '@site/src/components/TestnetNote.js';

import CodeBlock from '@theme/CodeBlock';
import saveParameters from '!!raw-loader!/txt/saveParameters.sh';
import queryTip from '!!raw-loader!/txt/queryTip.sh';
import tallyUTXOs from '!!raw-loader!/txt/tallyUTXOs.sh';
import calculateFee from '!!raw-loader!/txt/calculateFee.sh';
import signTransaction from '!!raw-loader!/txt/signTransaction.sh';
import submitTransaction from '!!raw-loader!/txt/submitTransaction.sh';
import utxo from '!!raw-loader!/txt/utxo.json';

export function HTMLContent() {

  // Replace placeholders in the imported calculateFee component with values
  var calculateFeeSendingFunds = calculateFee.replace("{{witness-count}}", "1");

  // Replace placeholder in the imported signTransaction component with values
  var signTransactionSendingFunds = signTransaction.replace("{{signing-key-files}}", "--signing-key-file payment.skey \\\n  ");

  return (
    <div>

      {/* INSERT HTML HERE */}

       <p><i>Figure 1</i> provides an overview of the process to prepare and submit a transaction in the Cardano network using the Command Line Interface (CLI).</p>

      <figure>
        <img src="img/TransactionOverview.png" />
        <figcaption>Figure 1 Creating a Transaction using Cardano CLI</figcaption>
      </figure>

      <p>The following procedure shows you how to use Cardano CLI to create a transaction sending ADA to a payment address in the Mainnet environment.</p>

      <TestnetNote />

      <p class="pi">To send ADA using Cardano CLI:</p>

      <ol>
        <li>On the computer hosting your block-producing node, when the local copy of the Cardano blockchain ledger is fully synchronized with the network, using a terminal window type the following commands to save protocol parameters in a file using JSON format:
          <CodeBlock language="bash">
            {saveParameters}
          </CodeBlock>
        </li>
        <li>To query the slot number of the current tip of the ledger, type:
          <CodeBlock language="bash">
            {queryTip}
          </CodeBlock>
        </li>
        <li>To simplify creating the transaction, type the following command to assign the amount that you want to send to a variable, where <code>&lt;SpendingAmount&gt;</code> is an integer representing the amount in Lovelace to send:
          <CodeBlock language="bash">
            {`amountToSend="<SpendingAmount>"
echo amountToSend: $\{amountToSend\}`}
          </CodeBlock>
          <table class="box">
            <tbody>
              <tr>
                <td class="boxLabel"><p class="boxLabel">Note<br /><img src="img/BoxNote.png" alt="Note" /></p></td>
                <td class="boxText"><p class="boxText">The smallest amount you can send successfully is ₳1, which is equivalent to 1 million Lovelace.</p></td>
              </tr>
            </tbody>
          </table>
        </li>
        <li>To assign the destination address receiving funds in the transaction to a variable, type the following command where <code>&lt;ReceivingAddress&gt;</code> is the destination payment address:
          <CodeBlock language="bash">
            {`destinationAddress="<ReceivingAddress>"
echo destinationAddress: $\{destinationAddress\}`}
          </CodeBlock>
        </li>
        <li>To retrieve the UTXOs available for your payment address and calculate the balance, type:
          <CodeBlock language="bash">
            {tallyUTXOs}
          </CodeBlock>
        </li>
        <li>To build a draft transaction for calculating the transaction fee, type:
          <CodeBlock language="bash">
            {`cardano-cli conway transaction build-raw \\
$\{tx_in\} \\
  --tx-out $(cat $NODE_HOME/payment.addr)+$(( $\{total_balance\} - 200000 - $\{amountToSend\} )) \\
  --tx-out $\{destinationAddress\}+$\{amountToSend\} \\
  --invalid-hereafter $(( $\{currentSlot\} + 10000 )) \\
  --fee 200000 \\
  --out-file $NODE_HOME/tx.tmp`}
          </CodeBlock>
        </li>
        <li>To calculate the fee for the transaction, type:
          <CodeBlock language="bash">
            {calculateFeeSendingFunds}
          </CodeBlock>
        </li>
        <li>To calculate change from the transaction, type:
          <CodeBlock language="bash">
            {`txOut=$(($\{total_balance\}-$\{fee\}-$\{amountToSend\}))
echo Change: $\{txOut\}`}
          </CodeBlock>
          <table class="box">
            <tbody>
              <tr>
                <td class="boxLabel"><p class="boxLabel">Note<br /><img src="img/BoxNote.png" alt="Note" /></p></td>
                <td class="boxText"><p class="boxText">If change from the transaction is less than ₳1 then funds are insufficient. Transactions having insufficient funds fail when submitted to the network.</p></td>
              </tr>
            </tbody>
          </table>
        </li>
        <li>To build the transaction, type:
          <CodeBlock language="bash">
            {`cardano-cli conway transaction build-raw \\
$\{tx_in\} \\
  --tx-out $(cat $NODE_HOME/payment.addr)+$\{txOut\} \\
  --tx-out $\{destinationAddress\}+$\{amountToSend\} \\
  --invalid-hereafter $(( $\{currentSlot\} + 10000 )) \\
  --fee $\{fee\} \\
  --out-file $NODE_HOME/tx.raw`}
          </CodeBlock>
        </li>
        <li>Copy the <code>tx.raw</code> file that you created in step 9 to the <code>$NODE_HOME</code> folder on your air-gapped, offline computer, and then using a terminal window type the following commands to sign the transaction:
          <CodeBlock language="bash">
            {signTransactionSendingFunds}
          </CodeBlock>
        </li>
        <li>Copy the <code>tx.signed</code> file that you created in step 10 to the <code>$NODE_HOME</code> folder on the block-producing node, and then using a terminal window type the following command to submit the transaction to the network:
          <CodeBlock language="bash">
            {submitTransaction}
          </CodeBlock>
        </li>
        <li>To verify that the funds you sent arrived, type the following command to display the list of Unspent Transaction Output (UTXOs) available for the payment address receiving funds in the transaction, and then find the UTXO for the funds that you sent:
          <CodeBlock language="bash">
            {`cardano-cli conway query utxo --output-json \\
  --address $\{destinationAddress\} \\
  --mainnet`}
          </CodeBlock>
        </li>
      </ol>

      <p>The UTXO query displays JSON output similar to the following—where the key is the transaction hash, followed by a hash (<code>#</code>) character, and then followed by the transaction index—displaying the value of the UTXO in Lovelace:</p>

      <CodeBlock language="json">
        {utxo}
      </CodeBlock>

    </div>
  );
}

<HTMLContent />

