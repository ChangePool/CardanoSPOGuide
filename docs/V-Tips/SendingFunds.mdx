---
title: "Sending Funds"
sidebar_label: "Sending Funds"
slug: /SendingFunds
hide_title: false
hide_table_of_contents: true
sidebar_position: 5
description: ""
---

import React from 'react';

import CodeBlock from '@theme/CodeBlock';
import saveParameters from '!!raw-loader!/txt/saveParameters.sh';
import queryTip from '!!raw-loader!/txt/queryTip.sh';
import tallyUTXOs from '!!raw-loader!/txt/tallyUTXOs.sh';
import calculateFee from '!!raw-loader!/txt/calculateFee.sh';
import signTransaction from '!!raw-loader!/txt/signTransaction.sh';
import submitTransaction from '!!raw-loader!/txt/submitTransaction.sh';
import utxo from '!!raw-loader!/txt/utxo.json';

export function HTMLContent() {

  // Replace placeholders in the imported calculateFee component with values
  var calculateFeeSendingFunds = calculateFee.replace("{{witness-count}}", "1");

  // Replace placeholder in the imported signTransaction component with values
  var signTransactionSendingFunds = signTransaction.replace("{{signing-key-files}}", "--signing-key-file payment.skey \\\n  ");

  return (
    <div>

      {/* INSERT HTML HERE */}

       <p><i>Figure 1</i> provides an overview of the process to prepare and submit a transaction in the Cardano network using the Command Line Interface (CLI).</p>

      <figure>
        <img src="img/TransactionOverview.png" />
        <figcaption>Figure 1 Creating a Transaction using Cardano CLI</figcaption>
      </figure>

      <p>The following procedure shows you how to use Cardano CLI to create a transaction sending ADA to a payment address in the Mainnet environment.</p>

      <table class="box">
        <tbody>
          <tr>
            <td class="boxLabel"><p class="boxLabel">Note<br /><img src="img/BoxNote.png" alt="Note" /></p></td>
            <td class="boxText"><p class="boxText">If you are sending funds in a testnet environment, then replace each instance of the <code>--mainnet</code> option with <code>--testnet-magic &lt;MagicNumber&gt;</code> where <code>&lt;MagicNumber&gt;</code> is the network magic number for the testnet network that you use.</p></td>
          </tr>
        </tbody>
      </table>

      <p class="pi">To send ADA using Cardano CLI:</p>

      <ol>
        <li>On the computer hosting your block-producing node, when the local copy of the Cardano blockchain ledger is fully synchronized with the network, using a terminal window type the following commands to save protocol parameters in a file using JSON format:
          <CodeBlock>
            {saveParameters}
          </CodeBlock>
        </li>
        <li>To query the slot number of the current tip of the ledger, type:
          <CodeBlock>
            {queryTip}
          </CodeBlock>
        </li>
        <li>To simplify creating the transaction, type the following command to assign the amount that you want to send to a variable, where <code>&lt;SpendingAmount&gt;</code> is an integer representing the amount in Lovelace to send:
          <pre>
            amountToSend="&lt;SpendingAmount&gt;"<br />
            echo amountToSend: $&#123;amountToSend&#125;
          </pre>
          <table class="box">
            <tbody>
              <tr>
                <td class="boxLabel"><p class="boxLabel">Note<br /><img src="img/BoxNote.png" alt="Note" /></p></td>
                <td class="boxText"><p class="boxText">The smallest amount you can send successfully is ₳1, which is equivalent to 1 million Lovelace.</p></td>
              </tr>
            </tbody>
          </table>
        </li>
        <li>To assign the destination address receiving funds in the transaction to a variable, type the following command where <code>&lt;ReceivingAddress&gt;</code> is the destination payment address:
          <pre>
            destinationAddress="&lt;ReceivingAddress&gt;"<br />
            echo destinationAddress: $&#123;destinationAddress&#125;
          </pre>
        </li>
        <li>To retrieve the UTXOs available for your payment address and calculate the balance, type:
          <CodeBlock language="bash">
            {tallyUTXOs}
          </CodeBlock>
        </li>
        <li>To build a draft transaction for calculating the minimum transaction fee, type:
          <pre>
            cardano-cli conway transaction build-raw \<br />
            $&#123;tx_in&#125; \<br />
            &nbsp;&nbsp;--tx-out $(cat $NODE_HOME/payment.addr)+$(( $&#123;total_balance&#125; - 200000 - $&#123;amountToSend&#125; )) \<br />
            &nbsp;&nbsp;--tx-out $&#123;destinationAddress&#125;+$&#123;amountToSend&#125; \<br />
            &nbsp;&nbsp;--invalid-hereafter $(( $&#123;currentSlot&#125; + 10000 )) \<br />
            &nbsp;&nbsp;--fee 200000 \<br />
            &nbsp;&nbsp;--out-file tx.tmp
          </pre>
        </li>
        <li>To calculate the current minimum fee for the transaction, type:
          <CodeBlock>
            {calculateFeeSendingFunds}
          </CodeBlock>
        </li>
        <li>To calculate change from the transaction, type:
          <pre>
            txOut=$(($&#123;total_balance&#125;-$&#123;fee&#125;-$&#123;amountToSend&#125;))<br />
            echo Change: $&#123;txOut&#125;
          </pre>
          <table class="box">
            <tbody>
              <tr>
                <td class="boxLabel"><p class="boxLabel">Note<br /><img src="img/BoxNote.png" alt="Note" /></p></td>
                <td class="boxText"><p class="boxText">If change from the transaction is less than ₳1 then funds are insufficient. Transactions having insufficient funds fail when submitted to the network.</p></td>
              </tr>
            </tbody>
          </table>
        </li>
        <li>To build the transaction, type:
          <pre>
            cardano-cli conway transaction build-raw \<br />
            $&#123;tx_in&#125; \<br />
            &nbsp;&nbsp;--tx-out $(cat $NODE_HOME/payment.addr)+$&#123;txOut&#125; \<br />
            &nbsp;&nbsp;--tx-out $&#123;destinationAddress&#125;+$&#123;amountToSend&#125; \<br />
            &nbsp;&nbsp;--invalid-hereafter $(( $&#123;currentSlot&#125; + 10000 )) \<br />
            &nbsp;&nbsp;--fee $&#123;fee&#125; \<br />
            &nbsp;&nbsp;--out-file tx.raw
          </pre>
        </li>
        <li>Copy the <code>tx.raw</code> file that you created in step 9 to the <code>$NODE_HOME</code> folder on your air-gapped, offline computer, and then using a terminal window type the following command to sign the transaction:
          <CodeBlock>
            {signTransactionSendingFunds}
          </CodeBlock>
        </li>
        <li>Copy the <code>tx.signed</code> file that you created in step 10 to the <code>$NODE_HOME</code> folder on the block-producing node, and then using a terminal window type the following command to submit the transaction to the network:
          <CodeBlock>
            {submitTransaction}
          </CodeBlock>
        </li>
        <li>To verify that the funds you sent arrived, type the following command to display the list of Unspent Transaction Output (UTXOs) available for the payment address receiving funds in the transaction, and then find the UTXO for the funds that you sent:
          <pre>
            cardano-cli conway query utxo --output-json \<br />
            &nbsp;&nbsp;--address $&#123;destinationAddress&#125; \<br />
            &nbsp;&nbsp;--mainnet
          </pre>
        </li>
      </ol>

      <p>The UTXO query displays JSON output similar to the following—where the key is the transaction hash, followed by a hash (<code>#</code>) character, and then followed by the transaction index—displaying the value of the UTXO in Lovelace:</p>

      <CodeBlock>
        {utxo}
      </CodeBlock>

    </div>
  );
}

<HTMLContent />

